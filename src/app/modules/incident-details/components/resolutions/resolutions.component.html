<div class="main-element">
    <div class="main-header">
        <div class="breadcrumbs-cvr">
            <span><a href="/incidents/view-steps">Incident Details</a></span>
            <span>></span>
            <span class="active">Resolutions</span>
        </div>
        <p>Resolutions</p>
        <div class="outer-box">
            <div class="card2">
                <label>{{incid}}</label>
            </div>
            <div class="inner-box">
                <div class="Tags400BadRequest"><span
                        style="color: black; font-size: 16px; font-family: Montserrat; font-weight: 600; word-wrap: break-word">Tags:
                    </span><span
                        style="color: black; font-size: 16px; font-family: Montserrat; font-weight: 400; word-wrap: break-word">{{taglist}}</span>
                </div>
                <p></p>
                <p></p>
                <p></p>
                <table id="resolution">
                    <thead>
                        <tr>
                           
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let rw of resolutiondata; let i=index">
                            <td>{{i + 1}}. {{rw.resolution}}</td>
                            <td><button class="viewbtn" (click)="viewData(rw, i)">View</button></td>
                        </tr>
                       
                    </tbody>
                </table>

               
            </div>
            <div>
                <button class="create-btn" (click)="createReso()">Create Resolution</button>
            </div>
        </div>
    </div>
</div>
<div class="overlay" *ngIf="createPopup">
    <div class="delete-popup" style="height: 400px;">
        <div class="view-popup-label">
            <label>Create Resolution</label>
            <img style="float: right;
            margin-right: 1%;
            width: 4%;
            margin-top: 1%;
            cursor: pointer;" src="../../../../../assets/images/cancel.png" (click)="cancelPopUp()">
        </div>
        <div class="content">
            <div>
                <div style="color: #000;
                font-family: Montserrat;
                font-size: 15px;
                font-style: normal;
                font-weight: 500;
                line-height: normal;">You can create new resolutions here. It will be connected with the above tag group and
                              saved.</div>
                <p></p>
                <!-- <div class="CreateResolutions"
                    style="color: black; font-size: 16px; font-family: Montserrat; font-weight: 700; word-wrap: break-word">
                    Create Resolutions</div> -->
                <textarea  class="textarea-reso" rows="4" placeholder="Type resolution" [(ngModel)]="receivedData"></textarea>
              
            </div>
            <br>
            <div><span><button class="addbtn" *ngIf ="isAddvisible" (click)="addResolutions()">Add</button></span></div>
        </div>
    </div>
</div>

<div class="overlay" *ngIf="viewPopup">
    <div class="delete-popup">
        <div class="view-popup-label">
            <label>Resolution Details</label>
            <!-- <div> -->
            <img style="float: right;
                margin-right: 1%;
                width: 4%;
                margin-top: 1%;
                cursor: pointer;" src="../../../../../assets/images/cancel.png" (click)="cancelPopUp()">
            <!-- </div> -->

        </div>
        <div class="content" *ngFor="let details of viewDetails">
            <div>
                <label class="steps-label">Resolution Steps</label>
                <p class="steps-content">{{details.resolution}}</p>
            </div>
            <div>
                <section style="padding: 10px; display: flex; gap: 90px;">
                    <div>
                        <div class="form-group">
                            <label class="form-label">Created On:</label>
                            <label class="form-control"  data-placement="top" title="{{details.createdOn}}">{{details.createdOn}}</label>
                          
                        </div>
                        <div class="form-group">
                            <label class="form-label">Updated On:</label>
                            <label class="form-control"  data-placement="top" title="{{details.updatedOn}}">{{details.updatedOn}}</label>
                           
                        </div>
                        <div class="form-group">
                            <label class="form-label">Created By:</label>
                            <label class="form-control"  data-placement="top" title="{{details.createdBy}}">{{details.createdBy}}</label>
                           
                        </div>
                        <div class="form-group">
                            <label class="form-label">Incident IDs:</label>
                            <label class="form-control"  data-placement="top" title="{{details.incidentIds}}">{{details.incidentIds}}</label>
                           
                        </div>
                        <div class="form-group">
                            <label class="form-label">Error Keywords:</label>
                            <label class="form-control" data-placement="top" title="{{details.errorKeywords}}">{{details.errorKeywords}}</label>
                           
                        </div>
                        <div class="form-group">
                            <label class="form-label">Error ID:</label>
                            <label class="form-control"  data-placement="top" title="{{details.errorId}}">{{details.errorId}}</label>
                          
                        </div>
                    </div>
                  <div>
                    <div style="display: block;">
                        <label class="form-label">Error Description:</label>                        
                        <textarea class="textarea-pop" >{{details.errorDescription}}</textarea>
                        
                    </div>
                  </div>

                </section>
                <div style="float:right">
                    <label style="padding-right:10px;font-family: Montserrat;font-size:large;line-height: 20px;">Use this Resolution for <b>{{incid}} </b></label><span>
                        <button class="addbtn" *ngIf="isUseVisible" (click)="UseResolution()">Submit</button></span></div>
            </div>
        </div>
    </div>
</div>